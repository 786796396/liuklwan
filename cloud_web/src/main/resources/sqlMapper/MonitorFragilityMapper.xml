<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.ucap.cloud_web.dao.MonitorFragilityDao">	<cache eviction="LRU" flushInterval="60000" size="1024" readOnly="true"/>	<resultMap type="com.ucap.cloud_web.entity.MonitorFragility" id="resultMap"/>	<sql id="where">		<where>			1=1			<if test="type != null "> and  type=#{type}</if>			<if test="siteCode != null "> and site_code=#{siteCode}</if>			<if test="startDate != null "> 			<![CDATA[ and scan_date>=#{startDate} ]]></if>   			<if test="endDate != null "> 			<![CDATA[ and #{endDate}>=scan_date ]]></if>			<if test="yesFlag != null "> 			<![CDATA[ and scan_date>=#{yesFlag} ]]></if>  			<if test="startEndDates != null">			 	and             	<foreach collection="startEndDates" item="term" index="index" open="(" separator="or" close=")">       					scan_date between #{term.startD} and #{term.endD}				</foreach>			</if>		</where>	</sql>	<!-- 添加 -->	<insert id="add" parameterType="com.ucap.cloud_web.entity.MonitorFragility" useGeneratedKeys="true" keyProperty="id">		insert into monitor_fragility ( 			<if test="id != null ">id,</if>			<if test="databaseInfoId != null ">database_info_id,</if>			<if test="monitorTaskId != null ">monitor_task_id,</if>			<if test="siteCode != null ">site_code,</if>			<if test="riskNum != null ">risk_num,</if>			<if test="url != null ">url,</if>			<if test="encodeUrl != null ">encode_url,</if>			<if test="type != null ">type,</if>			<if test="purl != null ">purl,</if>			<if test="level != null ">level,</if>			<if test="loopholeType != null ">loophole_type,</if>			<if test="method != null ">method,</if>			<if test="param != null ">param,</if>			<if test="keyWord != null ">key_word,</if>			stime,			<if test="scanDate != null ">scan_date,</if>			<if test="userId != null ">user_id,</if>			<if test="delFlag != null ">del_flag,</if>			create_time,			modify_time		) values (			<if test="id != null ">#{id},</if>			<if test="databaseInfoId != null ">#{databaseInfoId},</if>			<if test="monitorTaskId != null ">#{monitorTaskId},</if>			<if test="siteCode != null ">#{siteCode},</if>			<if test="riskNum != null ">#{riskNum},</if>			<if test="url != null ">#{url},</if>			<if test="encodeUrl != null ">#{encodeUrl},</if>			<if test="type != null ">#{type},</if>			<if test="purl != null ">#{purl},</if>			<if test="level != null ">#{level},</if>			<if test="loopholeType != null ">#{loopholeType},</if>			<if test="method != null ">#{method},</if>			<if test="param != null ">#{param},</if>			<if test="keyWord != null ">#{keyWord},</if>			now(),			<if test="scanDate != null ">#{scanDate},</if>			<if test="userId != null ">#{userId},</if>			<if test="delFlag != null ">#{delFlag},</if>			now(),			now()		)		<selectKey resultType="int" keyProperty="id">			SELECT LAST_INSERT_ID() AS id		</selectKey>	</insert>	<!-- 查询 -->	<select id="get" parameterType="int" resultType="com.ucap.cloud_web.entity.MonitorFragility">		select * from monitor_fragility where id=#{id}	</select>	<!-- 修改 -->	<update id="update" parameterType="com.ucap.cloud_web.entity.MonitorFragility">		update monitor_fragility 			<trim prefix="SET" suffixOverrides=",">				<if test="id != null ">id = #{id},</if>				<if test="databaseInfoId != null ">database_info_id = #{databaseInfoId},</if>				<if test="monitorTaskId != null ">monitor_task_id = #{monitorTaskId},</if>				<if test="siteCode != null ">site_code = #{siteCode},</if>				<if test="riskNum != null ">risk_num = #{riskNum},</if>				<if test="url != null ">url = #{url},</if>				<if test="encodeUrl != null ">encode_url = #{encodeUrl},</if>				<if test="type != null ">type = #{type},</if>				<if test="purl != null ">purl = #{purl},</if>				<if test="level != null ">level = #{level},</if>				<if test="loopholeType != null ">loophole_type = #{loopholeType},</if>				<if test="method != null ">method = #{method},</if>				<if test="param != null ">param = #{param},</if>				<if test="keyWord != null ">key_word = #{keyWord},</if>				<if test="stime != null ">stime = #{stime},</if>				<if test="scanDate != null ">scan_date = #{scanDate},</if>				<if test="userId != null ">user_id = #{userId},</if>				<if test="delFlag != null ">del_flag = #{delFlag},</if>				<if test="createTime != null ">create_time = #{createTime},</if>				<if test="modifyTime != null ">modify_time = #{modifyTime},</if>			</trim>			where id=#{id} 	</update>	<!-- 删除 -->	<delete id="delete" parameterType="int">		delete from monitor_fragility where id = #{id}	</delete>	<!-- 分页查询 -->	<select id="query" parameterType="HashMap" resultMap="resultMap">		select * from monitor_fragility		<include refid="where"/>		<if test="queryOrderList != null">			order by			<foreach collection="queryOrderList" item="queryOrder" separator=",">				${queryOrder}			</foreach>		</if>		<if test="start != null and pageSize != null">			limit #{start}, #{pageSize}		</if>	</select>	<select id="queryCount" parameterType="HashMap" resultType="int">		select count(*) from monitor_fragility		<include refid="where" />	</select>	
</mapper>
