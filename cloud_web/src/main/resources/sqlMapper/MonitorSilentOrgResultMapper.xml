<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.ucap.cloud_web.dao.MonitorSilentOrgResultDao">	<cache eviction="LRU" flushInterval="60000" size="1024" readOnly="true"/>	<resultMap type="com.ucap.cloud_web.entity.MonitorSilentOrgResult" id="resultMap"/>	<sql id="where">		<where>			1=1			<if test="siteCode != null "> and site_code = #{siteCode}</if>			<if test="scanDate != null "> and scan_date = #{scanDate}</if>			<if test="startDate != null and endDate != null"> and (scan_date between #{startDate} and #{endDate})</if>			<if test="type != null "> and type = #{type}</if>		</where>	</sql>	<!-- 添加 -->	<insert id="add" parameterType="com.ucap.cloud_web.entity.MonitorSilentOrgResult" useGeneratedKeys="true" keyProperty="id">		insert into monitor_silent_org_result ( 			<if test="id != null ">id,</if>			<if test="siteCode != null ">site_code,</if>			<if test="type != null ">type,</if>			<if test="riskNum != null ">risk_num,</if>			<if test="silentSum != null ">silent_sum,</if>			<if test="siteSum != null ">site_sum,</if>			<if test="fragilitySum != null ">fragility_sum,</if>			<if test="trojanSum != null ">trojan_sum,</if>			<if test="tamperSum != null ">tamper_sum,</if>			<if test="darkChainSum != null ">dark_chain_sum,</if>			<if test="leakedSum != null ">leaked_sum,</if>			<if test="fragilitySiteSum != null ">fragility_site_sum,</if>			<if test="trojanSiteSum != null ">trojan_site_sum,</if>			<if test="tamperSiteSum != null ">tamper_site_sum,</if>			<if test="darkChainSiteSum != null ">dark_chain_site_sum,</if>			<if test="leakedSiteSum != null ">leaked_site_sum,</if>			<if test="scanDate != null ">scan_date,</if>			create_time,			modify_time		) values (			<if test="id != null ">#{id},</if>			<if test="siteCode != null ">#{siteCode},</if>			<if test="type != null ">#{type},</if>			<if test="riskNum != null ">#{riskNum},</if>			<if test="silentSum != null ">#{silentSum},</if>			<if test="siteSum != null ">#{siteSum},</if>			<if test="fragilitySum != null ">#{fragilitySum},</if>			<if test="trojanSum != null ">#{trojanSum},</if>			<if test="tamperSum != null ">#{tamperSum},</if>			<if test="darkChainSum != null ">#{darkChainSum},</if>			<if test="leakedSum != null ">#{leakedSum},</if>			<if test="fragilitySiteSum != null ">#{fragilitySiteSum},</if>			<if test="trojanSiteSum != null ">#{trojanSiteSum},</if>			<if test="tamperSiteSum != null ">#{tamperSiteSum},</if>			<if test="darkChainSiteSum != null ">#{darkChainSiteSum},</if>			<if test="leakedSiteSum != null ">#{leakedSiteSum},</if>			<if test="scanDate != null ">#{scanDate},</if>			now(),			now()		)		<selectKey resultType="int" keyProperty="id">			SELECT LAST_INSERT_ID() AS id		</selectKey>	</insert>	<!-- 查询 -->	<select id="get" parameterType="int" resultType="com.ucap.cloud_web.entity.MonitorSilentOrgResult">		select * from monitor_silent_org_result where id=#{id}	</select>	<!-- 修改 -->	<update id="update" parameterType="com.ucap.cloud_web.entity.MonitorSilentOrgResult">		update monitor_silent_org_result 			<trim prefix="SET" suffixOverrides=",">				<if test="id != null ">id = #{id},</if>				<if test="siteCode != null ">site_code = #{siteCode},</if>				<if test="type != null ">type = #{type},</if>				<if test="riskNum != null ">risk_num = #{riskNum},</if>				<if test="silentSum != null ">silent_sum = #{silentSum},</if>				<if test="siteSum != null ">site_sum = #{siteSum},</if>				<if test="fragilitySum != null ">fragility_sum = #{fragilitySum},</if>				<if test="trojanSum != null ">trojan_sum = #{trojanSum},</if>				<if test="tamperSum != null ">tamper_sum = #{tamperSum},</if>				<if test="darkChainSum != null ">dark_chain_sum = #{darkChainSum},</if>				<if test="leakedSum != null ">leaked_sum = #{leakedSum},</if>				<if test="fragilitySiteSum != null ">fragility_site_sum = #{fragilitySiteSum},</if>				<if test="trojanSiteSum != null ">trojan_site_sum = #{trojanSiteSum},</if>				<if test="tamperSiteSum != null ">tamper_site_sum = #{tamperSiteSum},</if>				<if test="darkChainSiteSum != null ">dark_chain_site_sum = #{darkChainSiteSum},</if>				<if test="leakedSiteSum != null ">leaked_site_sum = #{leakedSiteSum},</if>				<if test="scanDate != null ">scan_date = #{scanDate},</if>				<if test="createTime != null ">create_time = #{createTime},</if>				<if test="modifyTime != null ">modify_time = #{modifyTime},</if>			</trim>			where id=#{id} 	</update>	<!-- 删除 -->	<delete id="delete" parameterType="int">		delete from monitor_silent_org_result where id = #{id}	</delete>	<!-- 分页查询 -->	<select id="query" parameterType="HashMap" resultMap="resultMap">		select * from monitor_silent_org_result		<include refid="where"/>		<if test="queryOrderList != null">			order by			<foreach collection="queryOrderList" item="queryOrder" separator=",">				${queryOrder}			</foreach>		</if>		<if test="start != null and pageSize != null">			limit #{start}, #{pageSize}		</if>	</select>	<select id="queryCount" parameterType="HashMap" resultType="int">		select count(*) from monitor_silent_org_result		<include refid="where" />	</select>	<!-- 组织单位安全统计 -->	<select id="getMonitorSilentList" parameterType="HashMap" resultType="com.ucap.cloud_web.entity.MonitorSilentOrgResult">		SELECT			site_code as siteCode,			type,			sum(risk_num) as riskNum,			sum(silent_sum) as silentSum,			sum(site_sum) as siteSum,			sum(fragility_sum) as fragilitySum,			sum(trojan_sum) as trojanSum,			sum(tamper_sum) as tamperSum,			sum(dark_chain_sum) as darkChainSum,			sum(leaked_sum) as leakedSum,			sum(fragility_site_sum) as fragilitySiteSum,			sum(trojan_site_sum) as trojanSiteSum,			sum(tamper_site_sum) as tamperSiteSum,			sum(dark_chain_site_sum) as darkChainSiteSum,			sum(leaked_site_sum) as leakedSiteSum,			scan_date as scanDate		FROM			monitor_silent_org_result		<include refid="where"/>			GROUP BY scan_date		ORDER BY			scan_date ASC	</select>	
</mapper>
