<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.ucap.cloud_web.dao.SpArticleDao">	<cache eviction="LRU" flushInterval="60000" size="1024" readOnly="true"/>	<resultMap type="com.ucap.cloud_web.entity.SpArticle" id="resultMap"/>	<sql id="where">		<where>			1=1			<if test="sort != null ">				and sort = #{sort}			</if>			<if test="channelId != null ">				and channel_id = #{channelId}			</if>			<if test="isTop != null ">				and is_top = #{isTop}			</if>			<if test="delFlag != null ">				and del_flag = #{delFlag}			</if>		</where>	</sql>	<!-- 添加 -->	<insert id="add" parameterType="com.ucap.cloud_web.entity.SpArticle" useGeneratedKeys="true" keyProperty="id">		insert into sp_article ( 			<if test="id != null ">id,</if>			<if test="title != null ">title,</if>			<if test="subTitle != null ">sub_title,</if>			<if test="channelId != null ">channel_id,</if>			<if test="pageTitle != null ">page_title,</if>			<if test="keyword != null ">keyword,</if>			<if test="isPub != null ">is_pub,</if>			<if test="link != null ">link,</if>			<if test="sourceUrl != null ">source_url,</if>			<if test="sourceName != null ">source_name,</if>			<if test="summary != null ">summary,</if>			<if test="content != null ">content,</if>			<if test="sort != null ">sort,</if>			<if test="browerCount != null ">brower_count,</if>			<if test="delFlag != null ">del_flag,</if>			<if test="isShow != null ">is_show,</if>			<if test="isTop != null ">is_top,</if>			<if test="pubDate != null ">pub_date,</if>			<if test="creater != null ">creater,</if>			create_time,			<if test="modifyer != null ">modifyer,</if>			modify_time		) values (			<if test="id != null ">#{id},</if>			<if test="title != null ">#{title},</if>			<if test="subTitle != null ">#{subTitle},</if>			<if test="channelId != null ">#{channelId},</if>			<if test="pageTitle != null ">#{pageTitle},</if>			<if test="keyword != null ">#{keyword},</if>			<if test="isPub != null ">#{isPub},</if>			<if test="link != null ">#{link},</if>			<if test="sourceUrl != null ">#{sourceUrl},</if>			<if test="sourceName != null ">#{sourceName},</if>			<if test="summary != null ">#{summary},</if>			<if test="content != null ">#{content},</if>			<if test="sort != null ">#{sort},</if>			<if test="browerCount != null ">#{browerCount},</if>			<if test="delFlag != null ">#{delFlag},</if>			<if test="isShow != null ">#{isShow},</if>			<if test="isTop != null ">#{isTop},</if>			<if test="pubDate != null ">#{pubDate},</if>			<if test="creater != null ">#{creater},</if>			now(),			<if test="modifyer != null ">#{modifyer},</if>			now()		)		<selectKey resultType="int" keyProperty="id">			SELECT LAST_INSERT_ID() AS id		</selectKey>	</insert>	<!-- 查询 -->	<select id="get" parameterType="int" resultType="com.ucap.cloud_web.entity.SpArticle">		select * from sp_article where id=#{id}	</select>	<!-- 修改 -->	<update id="update" parameterType="com.ucap.cloud_web.entity.SpArticle">		update sp_article 			<trim prefix="SET" suffixOverrides=",">				<if test="id != null ">id = #{id},</if>				<if test="title != null ">title = #{title},</if>				<if test="subTitle != null ">sub_title = #{subTitle},</if>				<if test="channelId != null ">channel_id = #{channelId},</if>				<if test="pageTitle != null ">page_title = #{pageTitle},</if>				<if test="keyword != null ">keyword = #{keyword},</if>				<if test="isPub != null ">is_pub = #{isPub},</if>				<if test="link != null ">link = #{link},</if>				<if test="sourceUrl != null ">source_url = #{sourceUrl},</if>				<if test="sourceName != null ">source_name = #{sourceName},</if>				<if test="summary != null ">summary = #{summary},</if>				<if test="content != null ">content = #{content},</if>				<if test="sort != null ">sort = #{sort},</if>				<if test="browerCount != null ">brower_count = #{browerCount},</if>				<if test="delFlag != null ">del_flag = #{delFlag},</if>				<if test="isShow != null ">is_show = #{isShow},</if>				<if test="isTop != null ">is_top = #{isTop},</if>				<if test="pubDate != null ">pub_date = #{pubDate},</if>				<if test="creater != null ">creater = #{creater},</if>				<if test="createTime != null ">create_time = #{createTime},</if>				<if test="modifyer != null ">modifyer = #{modifyer},</if>				<if test="modifyTime != null ">modify_time = #{modifyTime},</if>			</trim>			where id=#{id} 	</update>	<!-- 删除 -->	<delete id="delete" parameterType="int">		delete from sp_article where id = #{id}	</delete>	<!-- 分页查询 -->	<select id="query" parameterType="HashMap" resultMap="resultMap">		select * from sp_article		<include refid="where"/>		<if test="queryOrderList != null">			order by			<foreach collection="queryOrderList" item="queryOrder" separator=",">				${queryOrder}			</foreach>		</if>		<if test="start != null and pageSize != null">			limit #{start}, #{pageSize}		</if>	</select>	<select id="queryCount" parameterType="HashMap" resultType="int">		select count(*) from sp_article		<include refid="where" />	</select>		<select id="getSpArtList" parameterType="HashMap" resultMap="resultMap">		SELECT			*		FROM			sp_article s		LEFT JOIN sp_article_permission sp ON sp.article_id = s.id		WHERE			1 =1		<if test="siteCode != null ">				and sp.site_code = #{siteCode}		</if>		<if test="sort != null ">				and s.sort = #{sort}		</if>		<if test="channelId != null ">			and s.channel_id = #{channelId}		</if>		<if test="isTop != null ">			and s.is_top = #{isTop}		</if>		<if test="delFlag != null ">			and s.del_flag = #{delFlag}		</if>		ORDER BY s.create_time DESC		<if test="start != null and pageSize != null">			limit #{start}, #{pageSize}		</if>	</select>
</mapper>
