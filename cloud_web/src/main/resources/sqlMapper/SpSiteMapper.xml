<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.ucap.cloud_web.dao.SpSiteDao"><!-- 	<cache eviction="LRU" flushInterval="60000" size="1024" readOnly="true"/> -->	<resultMap type="com.ucap.cloud_web.entity.SpSite" id="resultMap"/>	<sql id="where">		<where>			1=1			<if test="siteCode != null "> and site_code = #{siteCode}</if>			<if test="status != null "> and status = #{status}</if>			<if test="delFlag != null ">and del_flag = #{delFlag}</if>			<if test="domain != null ">and domain LIKE '%${domain}%' </if>			<if test="templateType != null ">and template_type = #{templateType} </if>			<if test="nowDate != null ">and #{nowDate} between effective_begin_date and effective_end_date </if>		</where>	</sql>	<!-- 添加 -->	<insert id="add" parameterType="com.ucap.cloud_web.entity.SpSite" useGeneratedKeys="true" keyProperty="id">		insert into sp_site ( 			<if test="id != null ">id,</if>			<if test="siteName != null ">site_name,</if>			<if test="siteCode != null ">site_code,</if>			<if test="domain != null ">domain,</if>			<if test="url != null ">url,</if>			<if test="siteShowName != null ">site_show_name,</if>			<if test="siteKeyword != null ">site_keyword,</if>			<if test="siteDescript != null ">site_descript,</if>			<if test="logo != null ">logo,</if>			<if test="serviceHottel != null ">service_hottel,</if>			<if test="bottomText != null ">bottom_text,</if>			<if test="delFlag != null ">del_flag,</if>			<if test="status != null ">status,</if>									<if test="templateType != null ">template_type ,</if>			<if test="displayModule != null ">display_module ,</if>			<if test="loginConfig != null ">login_config ,</if>			<if test="effectiveState != null ">effective_state,</if>			<if test="effectiveBeginDate != null ">add_from,</if>			<if test="effectiveBeginDate != null ">effective_begin_date,</if>			<if test="effectiveEndDate != null ">effective_end_date,</if>									<if test="creater != null ">creater,</if>			create_time,			<if test="modifyer != null ">modifyer,</if>			modify_time		) values (			<if test="id != null ">#{id},</if>			<if test="siteName != null ">#{siteName},</if>			<if test="siteCode != null ">#{siteCode},</if>			<if test="domain != null ">#{domain},</if>			<if test="url != null ">#{url},</if>			<if test="siteShowName != null ">#{siteShowName},</if>			<if test="siteKeyword != null ">#{siteKeyword},</if>			<if test="siteDescript != null ">#{siteDescript},</if>			<if test="logo != null ">#{logo},</if>			<if test="serviceHottel != null ">#{serviceHottel},</if>			<if test="bottomText != null ">#{bottomText},</if>			<if test="delFlag != null ">#{delFlag},</if>			<if test="status != null ">#{status},</if>						<if test="templateType != null ">#{templateType},</if>			<if test="displayModule != null ">#{displayModule},</if>			<if test="loginConfig != null ">l#{loginConfig},</if>			<if test="effectiveState != null ">#{effectiveState},</if>			<if test="addFrom != null ">#{addFrom},</if>			<if test="effectiveBeginDate != null ">#{effectiveBeginDate},</if>			<if test="effectiveEndDate != null ">#{effectiveEndDate},</if>						<if test="creater != null ">#{creater},</if>			now(),			<if test="modifyer != null ">#{modifyer},</if>			now()		)		<selectKey resultType="int" keyProperty="id">			SELECT LAST_INSERT_ID() AS id		</selectKey>	</insert>	<!-- 查询 -->	<select id="get" parameterType="int" resultType="com.ucap.cloud_web.entity.SpSite">		select * from sp_site where id=#{id}	</select>	<!-- 修改 -->	<update id="update" parameterType="com.ucap.cloud_web.entity.SpSite">		update sp_site 			<trim prefix="SET" suffixOverrides=",">				<if test="id != null ">id = #{id},</if>				<if test="siteName != null ">site_name = #{siteName},</if>				<if test="siteCode != null ">site_code = #{siteCode},</if>				<if test="domain != null ">domain = #{domain},</if>				<if test="url != null ">url = #{url},</if>				<if test="siteShowName != null ">site_show_name = #{siteShowName},</if>				<if test="siteKeyword != null ">site_keyword = #{siteKeyword},</if>				<if test="siteDescript != null ">site_descript = #{siteDescript},</if>				<if test="logo != null ">logo = #{logo},</if>				<if test="serviceHottel != null ">service_hottel = #{serviceHottel},</if>				<if test="bottomText != null ">bottom_text = #{bottomText},</if>				<if test="delFlag != null ">del_flag = #{delFlag},</if>				<if test="status != null ">status = #{status},</if>								<if test="templateType != null ">template_type = #{templateType},</if>				<if test="displayModule != null ">display_module = #{displayModule},</if>				<if test="loginConfig != null ">login_config = #{loginConfig},</if>				<if test="effectiveState != null ">effective_state = #{effectiveState},</if>				<if test="addFrom != null ">add_from = #{addFrom},</if>				<if test="effectiveBeginDate != null ">effective_begin_date = #{effectiveBeginDate},</if>				<if test="effectiveEndDate != null ">effective_end_date = #{effectiveEndDate},</if>												<if test="creater != null ">creater = #{creater},</if>				<if test="createTime != null ">create_time = #{createTime},</if>				<if test="modifyer != null ">modifyer = #{modifyer},</if>				<if test="modifyTime != null ">modify_time = #{modifyTime},</if>			</trim>			where id=#{id} 	</update>	<!-- 删除 -->	<delete id="delete" parameterType="int">		delete from sp_site where id = #{id}	</delete>	<!-- 分页查询 -->	<select id="query" parameterType="HashMap" resultMap="resultMap">		select * from sp_site		<include refid="where"/>		<if test="queryOrderList != null">			order by			<foreach collection="queryOrderList" item="queryOrder" separator=",">				${queryOrder}			</foreach>		</if>		<if test="start != null and pageSize != null">			limit #{start}, #{pageSize}		</if>	</select>	<select id="queryCount" parameterType="HashMap" resultType="int">		select count(*) from sp_site		<include refid="where" />	</select>	<!-- 查询省的域名 -->	<select id="getSpSiteList" parameterType="HashMap" resultType="com.ucap.cloud_web.entity.SpSite">		select * from sp_site 			where 1=1			<![CDATA[ and LENGTH(site_code) <= 6 ]]>  			and site_code != 'bm0100' 			and site_code !='BT0000' 			<if test="status != null ">				 and status = #{status}			</if>			<if test="delFlag != null ">				 and del_flag = #{delFlag}			</if>	</select>	
</mapper>
