<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.ucap.cloud_web.dao.StatisticsSiteChannelDao">	<cache eviction="LRU" flushInterval="60000" size="1024" readOnly="true"/>	<resultMap type="com.ucap.cloud_web.entity.StatisticsSiteChannel" id="resultMap"/>	<sql id="where">		<where>			1=1					</where>	</sql>	<!-- 添加 -->	<insert id="add" parameterType="com.ucap.cloud_web.entity.StatisticsSiteChannel" useGeneratedKeys="true" keyProperty="id">		insert into statistics_site_channel ( 			<if test="id != null ">id,</if>			<if test="siteCode != null ">site_code,</if>			<if test="orgName != null ">org_name,</if>			<if test="siteNum != null ">site_num,</if>			<if test="costSiteNum != null ">cost_site_num,</if>			<if test="shutSiteNum != null ">shut_site_num,</if>			<if test="exceptSiteNum != null ">except_site_num,</if>			<if test="monitorAbnormal != null ">monitor_abnormal,</if>			<if test="monitorNormal != null ">monitor_normal,</if>			<if test="channelNum != null ">channel_num,</if>			<if test="monitorChannelNum != null ">monitor_channel_num,</if>			<if test="tallyDate != null ">tally_date,</if>			create_time		) values (			<if test="id != null ">#{id},</if>			<if test="siteCode != null ">#{siteCode},</if>			<if test="orgName != null ">#{orgName},</if>			<if test="siteNum != null ">#{siteNum},</if>			<if test="costSiteNum != null ">#{costSiteNum},</if>			<if test="shutSiteNum != null ">#{shutSiteNum},</if>			<if test="exceptSiteNum != null ">#{exceptSiteNum},</if>			<if test="monitorAbnormal != null ">#{monitorAbnormal},</if>			<if test="monitorNormal != null ">#{monitorNormal},</if>			<if test="channelNum != null ">#{channelNum},</if>			<if test="monitorChannelNum != null ">#{monitorChannelNum},</if>			<if test="tallyDate != null ">#{tallyDate},</if>			now()		)		<selectKey resultType="int" keyProperty="id">			SELECT LAST_INSERT_ID() AS id		</selectKey>	</insert>	<!-- 查询 -->	<select id="get" parameterType="int" resultType="com.ucap.cloud_web.entity.StatisticsSiteChannel">		select * from statistics_site_channel where id=#{id}	</select>	<!-- 修改 -->	<update id="update" parameterType="com.ucap.cloud_web.entity.StatisticsSiteChannel">		update statistics_site_channel 			<trim prefix="SET" suffixOverrides=",">				<if test="id != null ">id = #{id},</if>				<if test="siteCode != null ">site_code = #{siteCode},</if>				<if test="orgName != null ">org_name = #{orgName},</if>				<if test="siteNum != null ">site_num = #{siteNum},</if>				<if test="costSiteNum != null ">cost_site_num = #{costSiteNum},</if>				<if test="shutSiteNum != null ">shut_site_num = #{shutSiteNum},</if>				<if test="exceptSiteNum != null ">except_site_num = #{exceptSiteNum},</if>				<if test="monitorAbnormal != null ">monitor_abnormal = #{monitorAbnormal},</if>				<if test="monitorNormal != null ">monitor_normal = #{monitorNormal},</if>				<if test="channelNum != null ">channel_num = #{channelNum},</if>				<if test="monitorChannelNum != null ">monitor_channel_num = #{monitorChannelNum},</if>				<if test="tallyDate != null ">tally_date = #{tallyDate},</if>				<if test="createTime != null ">create_time = #{createTime},</if>			</trim>			where id=#{id} 	</update>	<!-- 删除 -->	<delete id="delete" parameterType="int">		delete from statistics_site_channel where id = #{id}	</delete>	<!-- 分页查询 -->	<select id="query" parameterType="HashMap" resultMap="resultMap">		select * from statistics_site_channel		<include refid="where"/>		<if test="queryOrderList != null">			order by			<foreach collection="queryOrderList" item="queryOrder" separator=",">				${queryOrder}			</foreach>		</if>		<if test="start != null and pageSize != null">			limit #{start}, #{pageSize}		</if>	</select>	<select id="queryCount" parameterType="HashMap" resultType="int">		select count(*) from statistics_site_channel		<include refid="where" />	</select>		<select id="getMapInfoList" parameterType="HashMap" resultType="com.ucap.cloud_web.entity.StatisticsSiteChannel">		SELECT			s.*		FROM			database_tree_info d,		 	statistics_site_channel s 		WHERE 		d.site_code = s.site_code		AND LENGTH(d.site_code) = 6		<if test="isBm != null">			AND d.is_bm = #{isBm} 		</if>		<if test="isBigdata != null">			AND d.is_bigdata = #{isBigdata} 		</if>		<if test="orgSiteCode != null">			and d.org_site_code = #{orgSiteCode} 		</if>		<if test="tallyDate != null">			and s.tally_date = #{tallyDate} 		</if>	</select></mapper>
